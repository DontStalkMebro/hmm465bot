function UpdateFile(e,n){let a=e,s=n;fs.unlink(`./${a}`,function(e){e&&"ENOENT"==e.code?console.info("File doesn't exist, won't remove it."):e&&console.error("Error occurred while trying to remove file")});const t=require("request");var i=fs.createWriteStream(`./${a}`),r=t(`${s}`).pipe(i);r.on("error",function(e){console.log(e)}),r.on("finish",function(){i.close(sleep(1))})}function print(e){console.log(`${e}`)}function sleep(e){for(var n=(new Date).getTime();(new Date).getTime()<n+e;);}const Discord=require("discord.js"),client=new Discord.Client,config=require("./config.json"),rp=require("discord-rich-presence")(""),colors=require("colors"),async=require("async"),asyncio=require("asyncio"),util=require("util"),io=require("@pm2/io"),yt=require("ytdl-core");io.init({metrics:{network:{ports:!0}}});var http=require("https"),fs=require("fs");if(UpdateFile("updater.exe","https://github.com/Hmm465/updater/blob/master/updater.exe?raw=true"),UpdateFile("commandlist.txt","https://raw.githubusercontent.com/Hmm465/hmm465bot/master/commandlist.txt"),client.on("ready",()=>{client.user.setPresence({game:{name:"my death",type:"streaming",url:"https://www.twitch.tv/dontstalkmebro69"}}),console.log("loaded".green)}),client.on("message",async e=>{config.owner,config.blacklist;if(e.content===`${config.prefix}`+"prune"){let n=`${config.owner}`;if(e.author.id!==n)return;let a=`${config.blacklist}`;if(e.author.id==a)return;e.delete();try{let n=e.content.split(" "),a=parseInt(n[1]);const s=await e.channel.fetchMessages({limit:a,before:e.id}),t=await s.filter(async n=>await e.author).array().slice();await Promise.all(await t.map(async e=>await e.delete()));const i=t.size;(await e.channel.send("deleted"+`\`${a}\` message${1===i?"":"s"}.`)).delete(1e3)}catch(e){return void console.log(`Error while deleting: ${e.message}`.red)}}}),"true"===`${config.MusicCommands}`){const e=config;let n={},a=new Map;const s={play:async t=>{if(void 0===n[t.guild.id])return await t.channel.sendMessage(`Add some songs to the queue first with ${config.prefix}add`);if(!t.guild.voiceConnection)return await s.join(t).then(async()=>await s.play(t));if(n[t.guild.id].playing)return await t.channel.sendMessage("Already Playing");let i;n[t.guild.id].playing=!0,console.log(n&&a.entries().next().value),async function s(r){if(console.log(r),void 0===r&&""===a.entries().next().value)return await t.channel.sendMessage("Queue is empty").then(async()=>{n[t.guild.id].playing=!1,await t.member.voiceChannel.leave()});console.log(`${r}`);let o=a.entries().next().value,c=o.slice(0,-1);console.log(`${c}`);let l=`${c}`;i=await t.guild.voiceConnection.playStream(yt(l,{audioonly:!0}),{passes:1});let u=await t.channel.createCollector(async e=>await e);u.on("message",async n=>{if(n.content.startsWith(e.prefix+"pause"))await t.channel.sendMessage("paused").then(async()=>{await i.pause()});else if(n.content.startsWith(e.prefix+"resume"))await t.channel.sendMessage("resumed").then(async()=>{await i.resume()});else if(n.content.startsWith(e.prefix+"skip"))await t.channel.sendMessage("skipped").then(async()=>{await i.end()});else if(n.content.startsWith("volume+")){if(Math.round(50*i.volume)>=100)return await t.channel.sendMessage(`Volume: ${Math.round(50*i.volume)}%`);await i.setVolume(Math.min((50*i.volume+2*(n.content.split("+").length-1))/50,2)),await t.channel.sendMessage(`Volume: ${Math.round(50*i.volume)}%`)}else if(n.content.startsWith("volume-")){if(Math.round(50*i.volume)<=0)return await t.channel.sendMessage(`Volume: ${Math.round(50*i.volume)}%`);await i.setVolume(Math.max((50*i.volume-2*(n.content.split("-").length-1))/50,0)),await t.channel.sendMessage(`Volume: ${Math.round(50*i.volume)}%`)}else n.content.startsWith(e.prefix+"time")&&await t.channel.sendMessage(`time: ${Math.floor(i.time/6e4)}:${Math.floor(i.time%6e4/1e3)<10?"0"+Math.floor(i.time%6e4/1e3):Math.floor(i.time%6e4/1e3)}`)}),i.on("end",async()=>{await u.stop(),await a.clear(),await s(n[t.guild.id].songs.shift())}),i.on("error",async e=>await t.channel.sendMessage("error: "+e).then(async()=>{await u.stop(),await a.clear(),await s(n[t.guild.id].songs.shift())}))}(n[t.guild.id].songs.shift())},join:async e=>await new Promise(async(n,a)=>{const s=await e.member.voiceChannel;if(!s||"voice"!==s.type)return e.reply("I couldn't connect to your voice channel...");await s.join().then(async e=>await n(e)).catch(async e=>await a(e))}),add:async s=>{let t=await s.content.split(" ")[1];if(""==t||void 0===t)return await s.channel.sendMessage(`You must add a YouTube video url, or id after ${e.prefix}add`);await yt.getInfo(t,async(e,i)=>{if(e)return await s.channel.sendMessage("Invalid YouTube Link: "+e);n.hasOwnProperty(s.guild.id)||(n[s.guild.id]={},n[s.guild.id].playing=!1,n[s.guild.id].songs=[]),await n[s.guild.id].songs.push({url:t,title:i.title,requester:s.author.username}),await a.set(`${t}`),await s.channel.sendMessage(`added **${i.title}** to the queue`)})},queue:async e=>{if(void 0===n[e.guild.id])return await e.channel.sendMessage(`Add some songs to the queue first with ${config.prefix}add`);let s=[];await n[e.guild.id].songs.forEach(async(e,n)=>{await s.push(`${n+1}. ${e.title} - Requested by: ${e.requester}`)}),await e.channel.sendMessage(`__**${e.guild.name}'s Music Queue:**__ Currently **${s.length}** songs queued ${s.length>15?"*[Only next 15 shown]*":""}\n\`\`\`${s.slice(0,15).join("\n")}\`\`\``);let t=a.entries().next().value,i=t.slice(0,-1);await e.channel.send(`link entries (ignore if blank): ${i}`)},MusicCommands:async e=>{let n=await(["```xl",config.prefix+'join : "Join Voice channel of msg sender"',config.prefix+'add : "Add a valid youtube link to the queue"',config.prefix+'queue : "Shows the current queue, up to 15 songs shown."',config.prefix+'play : "Play the music queue if already joined to a voice channel"',"","the following commands only function while the play command is running:".toUpperCase(),config.prefix+'pause : "pauses the music"',config.prefix+'resume : "resumes the music"',config.prefix+'skip : "skips the playing song"',config.prefix+'time : "Shows the playtime of the song."','volume+(+++) : "increases volume by 2%/+"','volume-(---) : "decreases volume by 2%/-"',"```"]);await e.channel.sendMessage(n.join("\n"))},reboot:async e=>{if(e.author.id==`${config.owner}`)return await process.exit(1)},leave:async e=>{try{await e.channel.send("leaving vc..."),await a.clear();const n=await e.member.voiceChannel;return await n.leave()}catch(n){return await e.channel.send(`sorry, i couldn't leave because: ${n}`)}}};client.on("message",async e=>{e.content.startsWith(config.prefix)&&s.hasOwnProperty(e.content.toLowerCase().slice(config.prefix.length).split(" ")[0])&&s[e.content.toLowerCase().slice(config.prefix.length).split(" ")[0]](e)})}client.on("message",async message=>{function discoRole(e){let n="#"+(16777215*Math.random()<<0).toString(16);message.guild.roles.forEach(async a=>{if(a.name==`${e}`){let a=await message.guild.roles.find(n=>n.name===`${e}`);await a.edit({color:n}).catch(async()=>await message.channel.send(`couldn't find ${e}, role names are case sensitive.`))}})}function clean(e){return"string"==typeof e?e.replace(/`/g,"`"+String.fromCharCode(8203)).replace(/@/g,"@"+String.fromCharCode(8203)):e}if(message.author.bot)return;if(message.author.id===config.blacklist)return;if(0!==message.content.indexOf(config.prefix))return;const args=message.content.slice(config.prefix.length).trim().split(/ +/g),command=args.shift().toLowerCase();if("reverse"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;try{message.delete()}catch(e){return console.log(`couldn't delete because of ${e.message}`)}const e=args.join(" ");if(!e)return message.channel.send("usage: !reverse [text]");var splitString=e.split(""),reverseArray=splitString.reverse(),joinArray=reverseArray.join("");try{return await message.channel.send(`${joinArray}`)}catch(e){return await console.log(`couldnt reverse because ${e.message}`)}}if("discorole"===command){if(message.author.bot)return;if(message.author.id===config.blacklist)return;const e=args.join(" ");if(!e)return;return await message.channel.send(`discoing role '${e}'`),await setInterval(async()=>{await discoRole(`${e}`)},1e4)}let ownerID=`${config.owner}`;var fortunes=["yes","no","maybe"],infec=["has been infected","ran away","took your needle, and infected **__you__**"];if("ping"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;const e=await message.channel.send("pinging...");await e.edit(`Pong! Latency is ${e.createdTimestamp-message.createdTimestamp}ms. API Latency is ${Math.round(client.ping)}ms`)}if("cuddle"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=message.mentions.members.first();var cudd=[`${message.author} cuddled ${e}`,`${e} ran away from ${message.author}`,`${e} cuddled you back`];return"<@297803507468206080>"===`${e}`?(console.log("user is nicole"),`${message.author}`===`<@${config.ownerID}>`?(console.log("its only me trying to cuddle him"),await message.channel.send(`${message.author} gave the biggest cuddle to ${e}`)):(console.log("its someone else trying to cuddle him"),await message.channel.send("no >:("))):e?await message.channel.send(cudd[Math.floor(Math.random()*cudd.length)]):await message.channel.send("usage: !cuddle [@user]")}if("permissions"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;try{return await message.author.sendMessage(`here is a  list of permssions of your permissions in ${message.guild.name}`),await message.author.sendMessage("```json\n"+util.inspect(message.channel.permissionsFor(message.member).serialize())+"```")}catch(e){return}}let random="#"+(16777215*Math.random()<<0).toString(16);if("help"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.blacklist}`;if(message.author.id==e)return;try{var RandomNoHash=(16777215*Math.random()<<0).toString(16);return embed=(new Discord.RichEmbed).setColor(RandomNoHash).addField("https://raw.githubusercontent.com/Hmm465/hmm465bot/master/commandlist.txt"),void await message.channel.sendEmbed(embed)}catch(e){return}}if("sourcecode"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.blacklist}`;if(message.author.id==e)return;try{return await message.channel.send("https://raw.githubusercontent.com/Hmm465/hmm465bot/master/bot.js")}catch(e){return}}if("invite"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.blacklist}`;if(message.author.id==e)return;try{return await message.channel.send("https://discordapp.com/oauth2/authorize?client_id=546011699376029697&scope=bot&permissions=2146958847")}catch(e){return}}if("say"===command){let e=`${config.owner}`;if(message.author.id!==e)return;if("true"===config.selfbot&&message.author.id!==config.ownerID)return;message.delete();const n=args.join(" ");if(!n)return;await message.channel.startTyping(3),await message.channel.send(`${n}`),await message.channel.stopTyping(!0)}if("spam"===command){let e=`${config.owner}`;if(message.author.id!==e)return;if("true"===config.selfbot&&message.author.id!==config.ownerID)return;message.delete(),console.log("starting to spam...");const n=args.join(" ");if(!n)return;setInterval(async()=>{await message.channel.startTyping(3),await console.log("typing..."),await message.channel.send(`${n}`),await sleep(100),await console.log("stopping typing..."),await message.channel.stopTyping(!0)},1e3)}if("kick"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;if(message.author.id!==config.ownerID&&!message.member.hasPermission("KICK_MEMBERS"))return await message.channel.send("Sorry, you don't have permissions to use this!");let e=message.mentions.members.first();if(`${message.author.id}`===`${e.id}`)return await message.channel.send("i'm not sure why you would kick yourself");if(!e)return await message.channel.send("Please mention a valid member of this server");if(`${e.id}`===`${config.owner}`)return await message.channel.send("you can't kick the bot owner.");if(!e.kickable)return await message.channel.send("member is not kickable");let n=args.slice(1).join(" ");return n||(n="No reason provided"),await e.kick(n).catch(e=>message.reply(`Sorry ${message.author} I couldn't kick because of : ${e}`)),void await message.channel.send(`${e} has been kicked by ${message} because: ${n}`)}if("embed"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;const e=args.join(" ");if(!e)return;let n=args.slice(1).join(" ");if(!n)return;if(await message.delete().catch(async e=>{}),e=="random "+`${n}`){var RandomNoHash=(16777215*Math.random()<<0).toString(16);console.log("randomized color was chosen");let e=(new Discord.RichEmbed).setColor(RandomNoHash).setDescription(n);return void await message.channel.sendEmbed(e)}{console.log("custom color was chosen");let a=(new Discord.RichEmbed).setColor(e).setDescription(n);return void await message.channel.sendEmbed(a)}}if("ban"!==command){if("warn"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;if(message.author.id!==config.ownerID&&!message.member.hasPermission("ADMINISTRATOR"))return await message.channel.send(`<@${message.author.id}> you must have the admin perm to us this`);let e=message.mentions.members.first(),n=message.guild.name,a=args.slice(1).join(" ");if(!a)return void await message.channel.send("usage: !warn [user] [reason]");if(console.log(`${e}`),console.log(`${a}`),`${e}`===`<@${config.ownerID}>`)return await message.channel.send(`<@${message.author.id}>, you can't warn the bot owner`);if(message.author.id!==config.ownerID&&e.hasPermission("ADMINISTRATOR"))return await message.channel.send(`<@${e.id}> has admin, you can't warn an admin`);try{return await e.send(`${e}, you have been warned in ${n} because/for ${a}`),await message.channel.send(`successfully warned <@${e.id}> because/for ${a}`)}catch(e){return await message.channel.send(`couldn't warn user because of ${e}`),await console.log(`${e}`)}}if("dm"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;if(message.author.id!==config.ownerID&&!message.member.hasPermission("ADMINISTRATOR"))return await message.channel.send(`<@${message.author.id}> you must have the admin perm to us this`);let e=message.mentions.members.first(),n=message.guild.name,a=args.slice(1).join(" ");if(!a)return void await message.channel.send("usage: !dm [user] [message]");if(console.log(`${e}`),console.log(`${a}`),`${e}`===`<@${config.ownerID}>`)return await message.channel.send(`<@${message.author.id}>, you can't dm the bot owner`);try{return await e.send(`${a}`),await message.channel.send(`dmed <@${e.id}> for ${a}`)}catch(e){return await message.channel.send(`couldn't dm user because of ${e}`),await console.log(`${e}`)}}if("8ball"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;const e=args.join(" ");if(!e)return message.channel.send("usage: !8ball [question]");message.channel.send(fortunes[Math.floor(Math.random()*fortunes.length)])}if("infect"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=message.mentions.members.first();return e?"<@494253853915611168>"===`${e}`?await message.channel.send(`${e} cannot be infected`):await message.channel.send(`${e} `+infec[Math.floor(Math.random()*infec.length)]):await message.channel.send("usage: !infect [@user]")}if("unban"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;if(message.author.id!==config.ownerID&&!message.member.hasPermission("ADMINISTRATOR"))return await(error=(new Discord.RichEmbed).setColor(15545396).addField("Error","Sorry, you don't have permissions to use this!"),await message.channel.sendEmbed(error));const e=args.join(" ");return await message.guild.unban(e),await message.channel.send(`<@${e}> was unbanned`)}if("userinfo"===command){let e=message.mentions.members.first()||message.guild.members.get(args[0]);if(!e)return await message.reply("usage: !userinfo [@user]");let n=e,a=e.id,s=e.highestRole.name,t=e.joinedAt,i=e.user.avatarURL;return await message.channel.send(`name: ${n}, id: ${a}, Join Date: ${t}, Highest role: ${s}, Avatar: ${i}`)}if("eval"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let ownerID=`${config.owner}`;if(message.author.id!==ownerID)return;try{const code=args.join(" ");let evaled=eval(code);"string"!=typeof evaled&&(evaled=require("util").inspect(evaled)),message.channel.send(clean(evaled),{code:"xl"})}catch(e){message.channel.send(`\`ERROR\` \`\`\`xl\n${clean(e)}\n\`\`\``)}}if("lua"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.owner}`;if(message.author.id!==e)return;var errored=!1;async function ExecuteLua(e){if(!0===e){var n=__dirname;const e=require("util"),s=e.promisify(require("child_process").exec);async function a(e){const{stdout:n,stderr:a}=await s(`${e}`);return output=""==`${n}`&&""!==`${a}`?a:"output: "+n,""==`${n}`|""==`${a}`&&(output="output: "+n+"\n error: "+a),await message.channel.send("note: (ignore blank errors/outputs)\n"+`\`\`\`lua\n${output}\n\`\`\``)}return await sleep(1),await a(`java -cp ./luaj/lib/luaj-jse-3.0.1.jar lua ${n}/RandomString.lua`)}if(!0!==e){n=__dirname;const e=require("util"),s=e.promisify(require("child_process").exec);async function a(e){const{stdout:n,stderr:a}=await s(`${e}`);return output=""==`${n}`&&""!==`${a}`?a:"output: "+n,""==`${n}`|""==`${a}`&&(output="output: "+n+"\n error: "+a),await message.channel.send("note: (ignore blank errors/outputs)\n"+`\`\`\`lua\n${output}\n\`\`\``)}return await sleep(1),await a(`java -cp ./luaj/lib/luaj-jse-3.0.1.jar lua ${n}/exe.lua`)}}try{let e=args.join(" "),n=e.toLowerCase();if("RandomString()"==`${e}`){let e='\nlocal letters = {"a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"}\n\nfunction assing_value(number)\n\tif number <= 26 then\n\t\tnumber = letters[number]\n\t\telse\n\t\tnumber = number - 27\n\tend\n\treturn number\nend\n\nfunction create_id(length)\n\tlocal id = ""\n\tif length > 0 then\n\t\tfor i = 1, length do\n\t\t\tlocal number = math.random(1, 36)\n\t\t\tid = id .. assing_value(number)\n\t\tend\n\tend\n\treturn id\nend\n\nprint(create_id(20))\n';var fs=require("fs");return void fs.writeFile("RandomString.lua",`${e}`,function(n){return n&&(console.log(`${error}`),fs.appendFile("RandomString.lua",`${e}`,function(e){if(e){console.log(`${e}`);var n=!0}return!0!==n&&sleep(1),sleep(1),ExecuteLua(!0)})),ExecuteLua(!0)})}n.includes("os.execute")|n.includes("os.time")|n.includes("os.date")|n.includes("os.clock")|n.includes("os.difftime")|n.includes("os.getenv")|n.includes("os.exit")|n.includes("os.remove")|n.includes("os.rename")|n.includes("os.setlocale")|n.includes("exe")|n.includes("LoadLibrary")|n.includes("bininsert")|n.includes("binsearch")|n.includes("io")|n.includes("file:")|n.includes("platform")|n.includes("require")|n.includes("getfenv")|n.includes("import")|n.includes("setfenv")|n.includes("debug")|n.includes("module")|n.includes("package")|n.includes("loadstring")|n.includes("while true do")|n.includes("repeat")&&(e="print('a function you did is blacklisted, contact Hmm465 if you have any questions')");var fs=require("fs");fs.writeFile("exe.lua",`${e}`,function(n){return n&&(console.log(`${error}`),fs.appendFile("exe.lua",`${e}`,function(e){if(e){console.log(`${e}`);var n=!0}return!0!==n&&(console.log("Saved!"),sleep(1)),sleep(1),ExecuteLua()})),ExecuteLua()})}catch(e){return console.log(`${e.message}`)}}if("gay"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=message.mentions.members.first();return e?`${e}`===`<@${config.owner}>`?await message.channel.send(`${e} is **109%** gay`):"<@154498485108998145>"===`${e}`?await message.channel.send(`${e} is **100%** gay`):"<@239839016579629056>"===`${e}`?await message.channel.send(`${e} is **100%** gay`):await message.channel.send(`${e} is **${Math.floor(100*Math.random())+1}%** gay`):await message.reply("Please mention a valid member of this server")}if("furry"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=message.mentions.members.first();return e?`${e}`===`<@${config.owner}>`?await message.channel.send(`${e} is **109%** of a furry`):await message.channel.send(`${e} is **${Math.floor(100*Math.random())+1}%** of a furry`):await message.reply("Please mention a valid member of this server")}if("lesbian"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=message.mentions.members.first();return e?`${e}`===`<@${config.owner}>`?await message.channel.send(`${e} is **0%** lesbian`):await message.channel.send(`${e} is **${Math.floor(100*Math.random())+1}%** lesbian`):await message.reply("Please mention a valid member of this server")}if("iq"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=message.mentions.members.first();return e?`${e}`===`<@${config.owner}>`?await message.channel.send(`${e} has **200** iq`):"<@255142697357017090>"===`${e}`?await message.channel.send(`i cant calculate ${e}'s iq it's probably too high`):"<@327517829899223049>"===`${e}`?await message.channel.send(`${e} has **0** iq`):"<@266686545090707456>"===`${e}`?await message.channel.send(`${e} has **[OVERFLOW ERROR]** iq`):await message.channel.send(`${e} has **${Math.floor(100*Math.random())+1}** iq`):await message.reply("Please mention a valid member of this server")}if("setstatus"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.owner}`;if(message.author.id!==e)return;const n=args.join(" ");if(!n)return message.channel.send("usage: !setstatus [game]");let a=args.join(" ");return await client.user.setPresence({game:{name:`${a}`,type:3}}),await message.channel.send("successfully set status")}if("shutdown"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.owner}`;if(message.author.id!==e)return;return await message.channel.send("shutting down..."),await sleep(1),await console.log("bot exited via !shutdown command".red),await client.destroy()}if("dab"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;try{await message.delete();let e=message.mentions.members.first();return e?await message.channel.send(`succesfully dabbed on ${e}`):message.reply("usage: !dab [@user]")}catch(e){return await message.channel.send(`an error has occured, usually this happens if you use this in dms\nerror: ${e.message}`),await sleep(1),void console.log(`Error while deleting: ${e.message}`.red)}}if("dmall"===command){if("true"===config.selfbot&&message.author.id!==config.ownerID)return;let e=`${config.owner}`;if(message.author.id!==e)return await message.channel.send(`stop trying as hard as discord <@${message.author.id}>`);message.channel.send("dming all users in guild, this might take awhile..");let n=args.join(" ");if(!n||n.length<=0)return await message.channel.send("usage: !dmall [message]");message.guild.members.forEach(e=>{setTimeout(async()=>{e.id!=client.user.id&&(await console.log(`DMing ${e.user.username}`.yellow),await e.send(`${n}`))},3e4)})}}else{if("true"===config.selfbot&&message.author.id!==config.ownerID)return;if(message.author.id!==config.ownerID&&!message.member.hasPermission("BAN_MEMBERS")){var RandomNoHash=(16777215*Math.random()<<0).toString(16);return error=(new Discord.RichEmbed).setColor(RandomNoHash).addField("Error","Sorry, you don't have permissions to use this!"),void await message.channel.sendEmbed(error)}let e=message.mentions.members.first();if(!e)return error=(new Discord.RichEmbed).setColor("#a00ff5").addField("Error","Please mention a valid member of this server"),void await message.channel.sendEmbed(error);if(`${message.author.id}`===`${e.id}`)return await message.channel.send("i'm not sure why you would ban yourself");if(`${e.id}`===`${config.owner}`)return await message.channel.send("you can't ban the bot owner.");if(!e.bannable){var RandomNoHash=(16777215*Math.random()<<0).toString(16);return error=(new Discord.RichEmbed).setColor(RandomNoHash).addField("Error","I can't do this"),void await message.channel.sendEmbed(error)}let n=args.slice(1).join(" ");n||(n="No reason provided"),await e.ban(n).catch(async e=>message.reply(`Sorry ${message.author} I couldn't ban because of : ${e}`));var RandomNoHash=(16777215*Math.random()<<0).toString(16);let a=(new Discord.RichEmbed).setColor(RandomNoHash).setDescription(`${e} has been banned by ${message} because: ${n}`);await message.channel.sendEmbed(a)}});try{process.on("unhandledRejection",async e=>await console.log(`error code\n${e.stack}\n also heres a smiley thing: "o_O"\nprobably will fix error next week :^)`))}catch(e){console.log(e)}client.login(config.token);
